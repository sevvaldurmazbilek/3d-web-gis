{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///webpack/runtime/async module","webpack:///./src/js/addGeoJSON.js","webpack:///./src/js/addTiles.js","webpack:///./src/js/cesiumConfig.js","webpack:///./src/js/cesiumViewer.js","webpack:///./src/js/demo.js","webpack:///./src/js/geocoder.js","webpack:///./src/js/timeUtils.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","/*\r\n * Filename: addGeoJSON.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-31\r\n * Description: Addition of GeoJSON data source in CesiumJS for accessibility maps with coloring data, popup information and handlers. \r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport { tileset1, tileset2, tileset3 } from './addTiles.js';\r\n\r\nconst assetId1 = 2441945;\r\nconst assetId2 = 2441944;\r\nlet currentPopup = null;\r\n\r\nvar currentAssetId = null;\r\nvar geoJsonDataSource = new Cesium.GeoJsonDataSource();\r\nvar handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);\r\n\r\nvar globalStats = {\r\n    averageTravelTime: 0,\r\n    maxTravelTime: 0,\r\n    minTravelTime: Infinity,\r\n    totalRegions: 0\r\n};\r\nvar globalEntities = [];\r\n\r\ngeoJsonDataSource.show = false;\r\n\r\nconst colorMappings = {\r\n    2441945: [\r\n        { threshold: 38, color: Cesium.Color.fromCssColorString('rgba(173, 216, 230, 0.6)') },\r\n        { threshold: 44, color: Cesium.Color.fromCssColorString('rgba(135, 206, 250, 0.6)') },\r\n        { threshold: 51, color: Cesium.Color.fromCssColorString('rgba(70, 130, 180, 0.6)') },\r\n        { threshold: 76, color: Cesium.Color.fromCssColorString('rgba(0, 0, 139, 0.6)') }\r\n    ],\r\n    2441944: [\r\n        { threshold: 27, color: Cesium.Color.fromCssColorString('rgba(173, 216, 230, 0.6)') },\r\n        { threshold: 33, color: Cesium.Color.fromCssColorString('rgba(135, 206, 250, 0.6)') },\r\n        { threshold: 39, color: Cesium.Color.fromCssColorString('rgba(70, 130, 180, 0.6)') },\r\n        { threshold: 61, color: Cesium.Color.fromCssColorString('rgba(0, 0, 139, 0.6)') }\r\n    ]\r\n};\r\n\r\nfunction loadGeoJsonAsset(assetId) {\r\n    if (currentAssetId === assetId) {\r\n        return;\r\n    }\r\n    Cesium.IonResource.fromAssetId(assetId)\r\n        .then(function (resource) {\r\n            return geoJsonDataSource.load(resource, {\r\n                clampToGround: false,\r\n                stroke: Cesium.Color.BLACK,\r\n                fill: Cesium.Color.PINK.withAlpha(0.5),\r\n                strokeWidth: 3\r\n            });\r\n        })\r\n        .then(function (dataSource) {\r\n            viewer.dataSources.add(dataSource);\r\n            currentAssetId = assetId;\r\n\r\n            var entities = dataSource.entities.values;\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var travelTime = entity.properties.travel_time.getValue(); \r\n                entity.polygon.material = getColorByTravelTime(travelTime, assetId);\r\n            }\r\n            globalEntities = dataSource.entities.values; \r\n            calculateStatistics(dataSource);\r\n        });\r\n}\r\n\r\nfunction calculateStatistics(dataSource) {\r\n    var totalTravelTime = 0;\r\n    var entities = dataSource.entities.values;\r\n\r\n    for (var i = 0; i < entities.length; i++) {\r\n        var travelTime = entities[i].properties.travel_time.getValue();\r\n        totalTravelTime += travelTime;\r\n        globalStats.maxTravelTime = Math.max(globalStats.maxTravelTime, travelTime);\r\n        globalStats.minTravelTime = Math.min(globalStats.minTravelTime, travelTime);\r\n    }\r\n\r\n    globalStats.totalRegions = entities.length;\r\n    globalStats.averageTravelTime = totalTravelTime / entities.length;\r\n}\r\n\r\nfunction getColorByTravelTime(travelTime, assetId) {\r\n    const mappings = colorMappings[assetId] || [];\r\n    for (let i = 0; i < mappings.length; i++) {\r\n        if (travelTime <= mappings[i].threshold) {\r\n            return mappings[i].color;\r\n        }\r\n    }\r\n    return Cesium.Color.WHITE;\r\n}\r\n\r\nhandler.setInputAction(function (clickEvent) {\r\n    const earthPosition = viewer.scene.pickPosition(clickEvent.position);\r\n\r\n    if (!Cesium.defined(earthPosition)) {\r\n        return;\r\n    }\r\n\r\n    const pickedObject = viewer.scene.pick(clickEvent.position);\r\n    if (Cesium.defined(pickedObject) && pickedObject.id) {\r\n        var entity = pickedObject.id;\r\n        var travelTime = entity.properties.travel_time;\r\n\r\n        if (travelTime !== undefined) {\r\n            var screenPosition = Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene, earthPosition);\r\n            if (screenPosition) {\r\n                var deviationFromAverage = travelTime - globalStats.averageTravelTime;\r\n                var message;\r\n                if (Math.abs(deviationFromAverage) < 5) {\r\n                    message = `Travel Time: ${travelTime} minutes, which is close to the average travel time across all regions.`;\r\n                } else if (deviationFromAverage > 0) {\r\n                    message = `Travel Time: ${travelTime} minutes. This is ${deviationFromAverage.toFixed(0)} minutes more than the average travel time.`;\r\n                } else {\r\n                    message = `Travel Time: ${travelTime} minutes. This is ${Math.abs(deviationFromAverage).toFixed(0)} minutes less than the average travel time.`;\r\n                }\r\n                showPopup(screenPosition, message);\r\n            }\r\n        }\r\n    }\r\n}, Cesium.ScreenSpaceEventType.LEFT_CLICK);\r\n\r\n\r\nfunction showPopup(screenPosition, message) {\r\n    removePopup();\r\n\r\n    var popupDiv = document.createElement('div');\r\n    popupDiv.className = 'cesium-popup';\r\n    popupDiv.innerHTML = message;\r\n\r\n    popupDiv.style.left = screenPosition.x + 'px';\r\n    popupDiv.style.top = screenPosition.y + 'px';\r\n\r\n    document.body.appendChild(popupDiv);\r\n    currentPopup = popupDiv;\r\n\r\n    setTimeout(function() {\r\n        if (currentPopup === popupDiv) {\r\n            document.body.removeChild(popupDiv);\r\n            currentPopup = null;\r\n        }\r\n    }, 4000);\r\n}\r\n\r\nfunction removePopup() {\r\n    if (currentPopup) {\r\n        document.body.removeChild(currentPopup);\r\n        currentPopup = null;\r\n    }\r\n}\r\n\r\nfunction showMunichGeoJson () {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\r\n    loadGeoJsonAsset(assetId1);\r\n    createLegend(assetId1);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n}\r\n\r\n\r\nfunction hideMunichGeoJson () {\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n}\r\n\r\ndocument.getElementById('showGeoJson').addEventListener('click', function() {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\r\n    loadGeoJsonAsset(assetId1);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n   \r\n});\r\n\r\nfunction createLegend(assetId) {\r\n    const legendContainer = document.getElementById('legend') || document.createElement('div');\r\n    legendContainer.id = 'legend';\r\n    legendContainer.innerHTML = ''; \r\n    legendContainer.style.display = 'block'; \r\n\r\n    const title = document.createElement('h3');\r\n    title.textContent = 'Average travel time (minutes)';\r\n    legendContainer.appendChild(title);\r\n\r\n    const mappings = colorMappings[assetId];\r\n    mappings.forEach(mapping => {\r\n        const colorBox = document.createElement('div');\r\n        colorBox.style.width = '20px';\r\n        colorBox.style.height = '20px';\r\n        colorBox.style.backgroundColor = mapping.color.toCssColorString();\r\n        colorBox.style.display = 'inline-block';\r\n\r\n        const label = document.createElement('span');\r\n        label.textContent = ` <= ${mapping.threshold}`;\r\n        label.style.marginLeft = '5px';\r\n\r\n        const entry = document.createElement('div');\r\n        entry.appendChild(colorBox);\r\n        entry.appendChild(label);\r\n        legendContainer.appendChild(entry);\r\n    });\r\n\r\n    document.body.appendChild(legendContainer);\r\n}\r\n\r\nfunction hideLegend() {\r\n    const legendContainer = document.getElementById('legend');\r\n    if (legendContainer) {\r\n        legendContainer.style.display = 'none';\r\n    }\r\n}\r\n\r\nhideLegend();\r\n\r\nexport {geoJsonDataSource, loadGeoJsonAsset, assetId1, assetId2};\r\nexport {showMunichGeoJson, hideMunichGeoJson};\r\nexport {createLegend, hideLegend};\r\n","/*\r\n * Filename: addTiles.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Import the Cesium 3D Tiles as 3 tilesets. \r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport {geoJsonDataSource} from './addGeoJSON.js';\r\nimport { createLegend, hideLegend } from './addGeoJSON.js';\r\n\r\nlet tileset1 = await Cesium.Cesium3DTileset.fromIonAssetId(2354108);\r\nlet tileset2 = await Cesium.Cesium3DTileset.fromIonAssetId(2355120);\r\nlet tileset3 = await Cesium.Cesium3DTileset.fromIonAssetId(2355413);\r\nvar readyTilesetsCount = 0;\r\n\r\nPromise.all([\r\n    Cesium.Cesium3DTileset.fromIonAssetId(2354108),\r\n    Cesium.Cesium3DTileset.fromIonAssetId(2355120),\r\n    Cesium.Cesium3DTileset.fromIonAssetId(2355413)\r\n]).then(([ts1, ts2, ts3]) => {\r\n    tileset1 = ts1;\r\n    tileset2 = ts2;\r\n    tileset3 = ts3;\r\n\r\n    setBuildingStyle(tileset1, 'lightgray');\r\n    setBuildingStyle(tileset2, 'lightgray');\r\n    setBuildingStyle(tileset3, 'lightgray');\r\n\r\n    viewer.scene.primitives.add(tileset1);\r\n    viewer.scene.primitives.add(tileset2);\r\n    viewer.scene.primitives.add(tileset3);\r\n\r\n    checkAllTilesets();\r\n});\r\n\r\n\r\nsetBuildingStyle(tileset1, 'lightgray');\r\nsetBuildingStyle(tileset2, 'lightgray');\r\nsetBuildingStyle(tileset3, 'lightgray');\r\n\r\n/* \r\n\r\nFUNCTIONS\r\n\r\n*/\r\n\r\nfunction setBuildingStyle(tileset, color) {\r\n    tileset.style = new Cesium.Cesium3DTileStyle({\r\n        color: `color(\"${color}\")`,\r\n        show: true\r\n    });\r\n}\r\n\r\nfunction checkAllTilesets() {\r\n    readyTilesetsCount++;\r\n\r\n    if (readyTilesetsCount === 3) {\r\n        var boundingSphere1 = tileset1.boundingSphere;\r\n        var boundingSphere2 = tileset2.boundingSphere;\r\n        var boundingSphere3 = tileset3.boundingSphere;\r\n        var commonBoundingSphere = Cesium.BoundingSphere.union(boundingSphere1, boundingSphere2, boundingSphere3);\r\n        var range = Math.max(100.0 - commonBoundingSphere.radius, 0.0);\r\n        viewer.camera.viewBoundingSphere(commonBoundingSphere, new Cesium.HeadingPitchRange(0, -2.0, range));\r\n        viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n    }\r\n}\r\n\r\nfunction showMunich3DTiles() {\r\n    viewer.scene.setTerrain(new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1)));\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n    tileset1.show = true;\r\n    tileset2.show = true;\r\n    tileset3.show = true;\r\n}\r\n\r\nfunction hideMunich3DTiles() {\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n}\r\n\r\nexport {tileset1, tileset2, tileset3} ; \r\nexport {showMunich3DTiles, hideMunich3DTiles};\r\n","/*\r\n * Filename: cesiumConfig.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Addition of access tokens for the application. Add here your own key for CesiumJS. Optionally, you can add basemap provider key and geocoder key.\r\n*/\r\n\r\n// CesiumJS Access Token\r\nCesium.Ion.defaultAccessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1ZjMxZDlmMi02OWJhLTRmNDktOGYzMS1jOGI2ZjMyNTdjZWIiLCJpZCI6MTU1MzY4LCJpYXQiOjE2ODk4NjI5NDh9.YNMT-peUxrLscF3gaV6D0zvZtym2LiHWTG1hirDmye4\";\r\n\r\n// API Key for ArcGIS Service. In this application, it is used for ArcGIS Geocoder. \r\nconst apiKey = \"AAPKbf16cbf5f8ee42d5a5b263bd6d99dbd4FaqKLEgIkliUtWsu6rjQVH74O4ZeEA71wnKMmAyvbtjm6D-XDNwBAleaO-jVtTmH\";\r\nCesium.ArcGisMapService.defaultAccessToken = apiKey;\r\nconst authentication = arcgisRest.ApiKeyManager.fromKey(apiKey);\r\n\r\n// Mapbox Access Token for basemaps \r\nconst mapbox = \"pk.eyJ1IjoiZHVybWF6YmlsZWsiLCJhIjoiY2xyajhkbmsyMDB1MjJqbnd6bTN2MThhdiJ9.KbEp3Swka-jg7zKhR0NABg\";\r\n\r\nexport {mapbox, authentication}; \r\n\r\n","/*\r\n * Filename: cesiumViewer.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Generation of Cesium Container by setting,viewer,scene and camera positions with additional basemap and styles. \r\n*/\r\n\r\nimport {mapbox} from './cesiumConfig.js';\r\n \r\nconst dayMapbox = new Cesium.MapboxStyleImageryProvider({\r\n\tstyleId: 'basic-v9',\r\n\taccessToken: mapbox\r\n});\r\n\r\nconst viewer = new Cesium.Viewer('cesiumContainer', {\r\n    terrainProvider : Cesium.CesiumTerrainProvider(),\r\n    imageryProvider: dayMapbox,\r\n    timeline: false,\r\n    animation: false,\r\n    infoBox: true,\r\n    homeButton: false,\r\n    navigationHelpButton: false, \r\n    sceneModePicker: false,\r\n    baseLayerPicker: false,\r\n    orderIndependentTranslucency: true,\r\n    selectionIndicator: true,\r\n    infoBox: false,\r\n    shadows: true,\r\n    requestRenderMode : true, //*Optimization* Enable requestRenderMode to reduce the overall amount of time Cesium renders a new frame and to decrease Cesiumâ€™s overall CPU usage in your application.\r\n    maximumRenderTimeChange : Infinity,\r\n    geocoder : false,\r\n    fullscreenButton: false,\r\n});\r\n\r\nvar scene = viewer.scene;\r\nvar camera = scene.camera;\r\nlet timeoutId = null; \r\nlet isPanelClicked = false; \r\n\r\n\r\nscene.shadowMap.softShadows = true;\r\nviewer.scene.shadowMap.size = 8192;\r\nviewer.scene.globe.tileCacheSize = 1000;\r\n\r\nviewer.scene.setTerrain(\r\n    new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1))\r\n);\r\n\r\nviewer.scene.globe.imageryLayers.addImageryProvider(dayMapbox);\r\n\r\nscene.skyAtmosphere.brightnessShift = 0.2;\r\nscene.globe.enableLighting = true;\r\nscene.requestRender();\r\nscene.globe.depthTestAgainstTerrain = true;\r\n\r\nconst initialCameraPosition = {\r\n    destination: Cesium.Cartesian3.fromDegrees(11.576124, 48.137154, 650),\r\n    orientation: {\r\n        heading: 0.0, \r\n        pitch: -0.4, \r\n        roll: 0.0\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const baseMapToggle = document.getElementById('baseMapToggle');\r\n    const baseMapOptions = document.getElementById('baseMapOptions');\r\n\r\n    baseMapToggle.addEventListener('mouseover', () => {\r\n        if (!isPanelClicked) {\r\n            clearTimeout(timeoutId);\r\n            baseMapOptions.style.display = 'block';\r\n        }\r\n    });\r\n\r\n    baseMapToggle.addEventListener('mouseout', () => {\r\n        if (!isPanelClicked) {\r\n            timeoutId = setTimeout(() => {\r\n                baseMapOptions.style.display = 'none';\r\n            }, 250);\r\n        }\r\n    });\r\n\r\n    baseMapToggle.addEventListener('click', () => {\r\n        isPanelClicked = !isPanelClicked;\r\n        baseMapOptions.style.display = isPanelClicked ? 'block' : 'none';\r\n        clearTimeout(timeoutId); \r\n    });\r\n\r\n    baseMapOptions.addEventListener('mouseover', () => {\r\n        clearTimeout(timeoutId);\r\n    });\r\n\r\n    baseMapOptions.addEventListener('mouseout', () => {\r\n        if (!isPanelClicked) {\r\n            timeoutId = setTimeout(() => {\r\n                baseMapOptions.style.display = 'none';\r\n            }, 250);\r\n        }\r\n    });\r\n\r\n    document.getElementById('mapboxButton').addEventListener('click', function() {\r\n        changeBaseMap('mapbox');\r\n    });\r\n    document.getElementById('osmButton').addEventListener('click', function() {\r\n        changeBaseMap('openstreetmap');\r\n    });\r\n    document.getElementById('mapboxDarkButton').addEventListener('click', function() {\r\n        changeBaseMap('mapboxDark');\r\n    });\r\n\r\n});\r\n\r\nfunction changeBaseMap(option) {\r\n    viewer.imageryLayers.removeAll(); \r\n    let newProvider;\r\n    switch (option) {\r\n        case 'mapbox':\r\n            newProvider = new Cesium.MapboxStyleImageryProvider({\r\n                styleId: 'basic-v9',\r\n                accessToken: mapbox\r\n            });\r\n            break;\r\n        case 'openstreetmap':\r\n            newProvider = new Cesium.OpenStreetMapImageryProvider();\r\n            break;\r\n        case 'mapboxDark':\r\n            newProvider = new Cesium.MapboxStyleImageryProvider({\r\n                styleId : 'dark-v11',\r\n                accessToken: mapbox\r\n            });\r\n            break;\r\n        default:\r\n            console.error('Unknown base map option:', option);\r\n            return;\r\n    }\r\n    viewer.imageryLayers.addImageryProvider(newProvider);\r\n}\r\n\r\ndocument.getElementById('helpButton').addEventListener('click', function() {\r\n    document.getElementById('helpPanel').style.display = 'block';\r\n});\r\n\r\ndocument.getElementById('closeHelpPanel').addEventListener('click', function() {\r\n    document.getElementById('helpPanel').style.display = 'none';\r\n});\r\n\r\nwindow.onload = function() {\r\n    document.getElementById('helpPanel').style.display = 'block';\r\n};\r\n\r\n\r\nviewer.scene.camera.setView(initialCameraPosition);\r\nexport {viewer, scene, camera, dayMapbox, initialCameraPosition}; \r\n","/*\r\n * Filename: demo.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Helsinki DEMO application to test the scalability of the platform. \r\n*/\r\n\r\nimport { viewer, initialCameraPosition } from './cesiumViewer.js';\r\nimport {geoJsonDataSource, loadGeoJsonAsset, assetId2} from './addGeoJSON.js';\r\nimport {setCurrentLocation, updateTimeElement} from './timeUtils.js';\r\nimport { showMunich3DTiles} from './addTiles.js';\r\nimport { showMunichGeoJson} from './addGeoJSON.js';\r\nimport { createLegend, hideLegend } from './addGeoJSON.js';\r\n\r\nconst switchInput = document.getElementById(\"switchInput\");\r\nconst slider = document.querySelector(\".slider\");\r\nconst showGeoJsonButton = document.getElementById('showGeoJson');\r\nconst show3DTilesButton = document.getElementById('show3DTiles');\r\n\r\nlet currentCity = 'munich'; \r\nlet tileset; \r\n\r\nasync function loadHelsinkiTileset() {\r\n    if (!tileset) {\r\n        tileset = await Cesium.Cesium3DTileset.fromIonAssetId(96188);\r\n        viewer.scene.primitives.add(tileset);\r\n    }\r\n    tileset.show = true;\r\n}\r\n\r\nconst show3DTilesListener = async function() {\r\n    viewer.scene.setTerrain(new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1)));\r\n    await loadHelsinkiTileset();\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n};\r\n\r\nconst showGeoJsonListener = function() {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\r\n    loadGeoJsonAsset(assetId2);\r\n    createLegend(assetId2);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset.show = false;\r\n}\r\n\r\nfunction updateButtonBehavior() {\r\n    if (currentCity === 'munich') {\r\n        showGeoJsonButton.onclick = showMunichGeoJson;\r\n        show3DTilesButton.onclick = showMunich3DTiles;\r\n    } else {\r\n        showGeoJsonButton.onclick = showGeoJsonListener;\r\n        show3DTilesButton.onclick = show3DTilesListener;\r\n    }\r\n}\r\n\r\nswitchInput.addEventListener(\"change\", function() {\r\n    if (switchInput.checked) {\r\n        slider.classList.add(\"on\");\r\n        currentCity = 'helsinki';\r\n        viewer.camera.flyTo({\r\n            destination: Cesium.Cartesian3.fromDegrees(24.943229, 60.156792, 550),\r\n            orientation: {\r\n                heading: 0.0,\r\n                pitch: -0.4,\r\n                roll: 0.0\r\n            },\r\n            duration: 3.0,\r\n        });\r\n        \r\n        viewer.scene.globe.depthTestAgainstTerrain = true;\r\n     \r\n        show3DTilesListener().then(() => {\r\n        });\r\n        \r\n        updateButtonBehavior();\r\n        setCurrentLocation('helsinki');\r\n        updateTimeElement();     \r\n\r\n    } else {\r\n        slider.classList.remove(\"on\");\r\n        currentCity = 'munich';\r\n\r\n        if (tileset) {\r\n            tileset.show = false;\r\n        }\r\n        viewer.camera.flyTo(initialCameraPosition);\r\n        \r\n        showMunich3DTiles();\r\n        updateButtonBehavior();\r\n        setCurrentLocation('munich');\r\n        updateTimeElement();\r\n        \r\n    }\r\n});\r\n\r\nupdateButtonBehavior();","/*\r\n * Filename: geocoder.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: ArcGIS Geocoder (source = https://developers.arcgis.com/cesiumjs/geocode-and-search/search-for-an-address/)\r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport {authentication} from './cesiumConfig.js';\r\n\r\nfunction findAddress(query) {\r\n\r\n    const cameraPos = Cesium.Cartographic.fromCartesian(viewer.camera.position);\r\n    const center = [Cesium.Math.toDegrees(cameraPos.longitude),Cesium.Math.toDegrees(cameraPos.latitude)];\r\n\r\n    arcgisRest\r\n    .geocode({\r\n        singleLine: query,\r\n        authentication,\r\n        params: {\r\n            outFields: \"*\",\r\n            location: center.join(\",\")\r\n        }\r\n    })\r\n\r\n    .then((response) => {\r\n        const result = response.candidates[0];\r\n        if (!result === 0) {\r\n            alert(\"Sorry, we could not find any place matching your search.\");\r\n            return;\r\n        }\r\n\r\n        const pinBuilder = new Cesium.PinBuilder()\r\n        const location = Cesium.Cartesian3.fromDegrees(result.location.x,result.location.y);\r\n        const candidate = viewer.entities.add({\r\n            name:'Search result',\r\n            description:`${result.address}`,\r\n            position:location,\r\n\r\n            billboard: {\r\n                verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n                image: pinBuilder.fromColor(Cesium.Color.fromCssColorString('#5491f5'),48).toDataURL()\r\n            }\r\n        })\r\n        viewer.selectedEntity = candidate;\r\n        viewer.trackedEntity = candidate;\r\n    })\r\n\r\n    .catch((error) => {\r\n        alert(\"Please type an address or place.\");\r\n        console.error(error);\r\n    });\r\n}\r\n\r\nfunction handleAddressSearch() {\r\n    viewer.entities.removeAll();\r\n    const query = document.getElementById(\"geocode-input\").value;\r\n    findAddress(query);\r\n}\r\n\r\n\r\ndocument.getElementById(\"geocode-button\").addEventListener(\"click\", handleAddressSearch);\r\ndocument.getElementById(\"geocode-input\").addEventListener(\"keypress\", function(event) {\r\n    if (event.key === \"Enter\") {\r\n        event.preventDefault();\r\n        handleAddressSearch();\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"geocode-close\").addEventListener(\"click\", function() {\r\n    document.getElementById(\"geocode-input\").value = '';\r\n    viewer.entities.removeAll();\r\n});","/*\r\n * Filename: timeUtils.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Calculation of local time, sunrise and sunsets based on the location. Additional functions for time slider, time reset and date picker. \r\n*/    \r\n\r\nimport {viewer} from './cesiumViewer.js';\r\n\r\nlet locations = {\r\n  munich: { latitude: 48.137154, longitude: 11.576124 },\r\n  helsinki: { latitude: 60.169262, longitude: 24.938570 }\r\n};\r\n\r\nlet currentLocation = locations.munich;\r\nlet dateChangedByInput = false;\r\n\r\nlet date = Cesium.JulianDate.toDate(Cesium.JulianDate.now());\r\nlet timeInput = document.getElementById('time');\r\nlet dateInput = document.getElementById('dateInput');\r\n\r\nlet clock = viewer.clock;\r\nclock.currentTime = Cesium.JulianDate.fromDate(date);\r\n\r\nlet hourElement = document.getElementById(\"hour\");\r\n\r\nlet resetTimeButton = document.getElementById('resetTimeButton');\r\n\r\n\r\nresetTimeButton.addEventListener('click', function () {\r\n  const currentTimeInSeconds = convertTimeToSeconds(new Date());\r\n  timeInput.value = currentTimeInSeconds;\r\n\r\n  date = new Date();\r\n  dateInput.valueAsDate = date;\r\n\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n});\r\n\r\nviewer.clock.onTick.addEventListener(function (clock) {\r\n  date = Cesium.JulianDate.toDate(clock.currentTime);\r\n  updateTimeElement();\r\n});\r\n\r\nupdateSunTimes(currentLocation);\r\nlet initialTime = convertTimeToSeconds(date);\r\ntimeInput.value = initialTime;\r\n\r\ndateInput.valueAsDate = date;\r\n\r\ntimeInput.oninput = () => {\r\n  let time = +timeInput.value;\r\n  date.setUTCHours(Math.floor(time / 3600));\r\n  date.setUTCMinutes(Math.floor(time / 60) % 60);\r\n  date.setUTCSeconds(time % 60);\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n};\r\n\r\n\r\ndateInput.oninput = () => {\r\n  dateChangedByInput = true; \r\n  date = dateInput.valueAsDate;\r\n  updateSunTimes(currentLocation);\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n};\r\n\r\nupdateTimeElement();\r\n\r\n\r\n//FUNCTIONS \r\n\r\nfunction calculateTimeZoneOffset(location) {\r\n  if (location === locations.munich) {\r\n    return 0;\r\n  } else if (location === locations.helsinki) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction updateSunTimes(location) {\r\n  let sunTimes = calculateSunTimes(date, location.latitude, location.longitude);\r\n  timeInput.min = convertTimeToSeconds(sunTimes.sunrise);\r\n  timeInput.max = convertTimeToSeconds(sunTimes.sunset);\r\n  timeInput.value = convertTimeToSeconds(sunTimes.sunrise);\r\n}\r\n\r\nfunction convertTimeToSeconds(time) {\r\n  return time.getHours() * 3600 + time.getMinutes() * 60 + time.getSeconds();\r\n}\r\n\r\n\r\nfunction calculateSunTimes(date, latitude, longitude) {\r\n  const times = SunCalc.getTimes(date, latitude, longitude);\r\n\r\n  let sunriseLocal = times.sunrise;\r\n  let sunsetLocal = times.sunset;\r\n\r\n  if (currentLocation === locations.munich) {\r\n      const timezoneOffset = date.getTimezoneOffset();\r\n      sunriseLocal = new Date(times.sunrise.getTime() + timezoneOffset * 60000);\r\n      sunsetLocal = new Date(times.sunset.getTime() + timezoneOffset * 60000);\r\n  }\r\n\r\n  else if (currentLocation === locations.helsinki) {\r\n    const timezoneOffsetHelsinki = date.getTimezoneOffset();\r\n    sunriseLocal = new Date(times.sunrise.getTime() + timezoneOffsetHelsinki * 60000);\r\n    sunsetLocal = new Date(times.sunset.getTime() + timezoneOffsetHelsinki * 60000);\r\n  }\r\n\r\n  return {\r\n      sunrise: sunriseLocal,\r\n      sunset: sunsetLocal,\r\n  };\r\n}\r\n\r\nfunction updateTimeElement() {\r\n  let timezoneOffset = calculateTimeZoneOffset(currentLocation);\r\n  let localDate = new Date(date.getTime() + timezoneOffset * 3600000);\r\n\r\n  let options = { hour12: false, hour: '2-digit', minute: '2-digit' };\r\n  let displayedTime = localDate.toLocaleString(\"en-US\", options);\r\n  hourElement.innerHTML = displayedTime;\r\n}\r\n\r\nexport function setCurrentLocation(locationKey) {\r\n  currentLocation = locations[locationKey];\r\n  updateSunTimes(currentLocation);\r\n  updateTimeElement();\r\n};\r\n\r\nexport {updateTimeElement};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(352);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","assetId1","assetId2","currentPopup","currentAssetId","geoJsonDataSource","Cesium","GeoJsonDataSource","handler","ScreenSpaceEventHandler","viewer","scene","canvas","globalStats","averageTravelTime","maxTravelTime","minTravelTime","Infinity","totalRegions","show","colorMappings","threshold","color","Color","fromCssColorString","loadGeoJsonAsset","assetId","IonResource","fromAssetId","then","resource","load","clampToGround","stroke","BLACK","fill","PINK","withAlpha","strokeWidth","dataSource","dataSources","add","entities","values","i","length","entity","travelTime","properties","travel_time","getValue","polygon","material","getColorByTravelTime","calculateStatistics","totalTravelTime","Math","max","min","mappings","WHITE","showPopup","screenPosition","message","document","body","removeChild","popupDiv","createElement","className","innerHTML","style","left","x","top","y","appendChild","setTimeout","showMunichGeoJson","terrainProvider","EllipsoidTerrainProvider","createLegend","tileset1","tileset2","tileset3","legendContainer","getElementById","id","display","title","textContent","forEach","mapping","colorBox","width","height","backgroundColor","toCssColorString","label","concat","marginLeft","entry","hideLegend","setInputAction","clickEvent","earthPosition","pickPosition","position","defined","pickedObject","pick","undefined","SceneTransforms","wgs84ToWindowCoordinates","deviationFromAverage","abs","toFixed","ScreenSpaceEventType","LEFT_CLICK","addEventListener","Cesium3DTileset","fromIonAssetId","readyTilesetsCount","setBuildingStyle","tileset","Cesium3DTileStyle","checkAllTilesets","boundingSphere1","boundingSphere","boundingSphere2","boundingSphere3","commonBoundingSphere","BoundingSphere","union","range","radius","camera","viewBoundingSphere","HeadingPitchRange","lookAtTransform","Matrix4","IDENTITY","showMunich3DTiles","setTerrain","Terrain","CesiumTerrainProvider","Promise","all","_ref","_ref2","ts1","ts2","ts3","primitives","Ion","defaultAccessToken","apiKey","ArcGisMapService","authentication","arcgisRest","ApiKeyManager","fromKey","mapbox","dayMapbox","MapboxStyleImageryProvider","styleId","accessToken","Viewer","_defineProperty","imageryProvider","timeline","animation","infoBox","homeButton","navigationHelpButton","sceneModePicker","baseLayerPicker","orderIndependentTranslucency","selectionIndicator","timeoutId","isPanelClicked","shadowMap","softShadows","size","globe","tileCacheSize","imageryLayers","addImageryProvider","skyAtmosphere","brightnessShift","enableLighting","requestRender","depthTestAgainstTerrain","initialCameraPosition","destination","Cartesian3","fromDegrees","orientation","heading","pitch","roll","changeBaseMap","option","newProvider","removeAll","OpenStreetMapImageryProvider","console","error","baseMapToggle","baseMapOptions","clearTimeout","window","onload","setView","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","_asyncToGenerator","fn","self","args","arguments","apply","err","switchInput","slider","querySelector","showGeoJsonButton","show3DTilesButton","currentCity","loadHelsinkiTileset","_loadHelsinkiTileset","_callee2","_context2","show3DTilesListener","_callee","_context","showGeoJsonListener","updateButtonBehavior","onclick","checked","classList","flyTo","duration","setCurrentLocation","updateTimeElement","remove","handleAddressSearch","query","cameraPos","center","Cartographic","fromCartesian","toDegrees","longitude","latitude","geocode","singleLine","params","outFields","location","join","response","result","candidates","pinBuilder","PinBuilder","candidate","description","address","billboard","verticalOrigin","VerticalOrigin","BOTTOM","heightReference","HeightReference","CLAMP_TO_GROUND","image","fromColor","toDataURL","selectedEntity","trackedEntity","alert","event","preventDefault","locations","munich","helsinki","currentLocation","date","JulianDate","toDate","now","timeInput","dateInput","clock","currentTime","fromDate","hourElement","currentTimeInSeconds","convertTimeToSeconds","Date","valueAsDate","onTick","updateSunTimes","initialTime","sunTimes","times","SunCalc","getTimes","sunriseLocal","sunrise","sunsetLocal","sunset","timezoneOffset","getTimezoneOffset","getTime","timezoneOffsetHelsinki","calculateSunTimes","time","getHours","getMinutes","getSeconds","displayedTime","toLocaleString","hour12","hour","minute","locationKey","oninput","setUTCHours","floor","setUTCMinutes","setUTCSeconds","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","queue","hasAwait","currentDeps","outerResolve","depQueues","Set","promise","rej","deps","map","dep","obj","ret","wrapDeps","getResult","fnQueue","q","has","definition","get","prop"],"sourceRoot":""}