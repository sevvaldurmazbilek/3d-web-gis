{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///webpack/runtime/async module","webpack:///./src/js/addGeoJSON.js","webpack:///./src/js/addTiles.js","webpack:///./src/js/cesiumConfig.js","webpack:///./src/js/cesiumViewer.js","webpack:///./src/js/demo.js","webpack:///./src/js/geocoder.js","webpack:///./src/js/timeUtils.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","/*\r\n * Filename: addGeoJSON.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-31\r\n * Description: Addition of GeoJSON data source in CesiumJS for accessibility maps with coloring data, popup information and handlers. \r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport { tileset1, tileset2, tileset3 } from './addTiles.js';\r\n\r\nconst assetId1 = 123456; //add your asset ID \r\nconst assetId2 = 123456; //add your asset ID \r\nlet currentPopup = null;\r\n\r\nvar currentAssetId = null;\r\nvar geoJsonDataSource = new Cesium.GeoJsonDataSource();\r\nvar handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);\r\n\r\nvar globalStats = {\r\n    averageTravelTime: 0,\r\n    maxTravelTime: 0,\r\n    minTravelTime: Infinity,\r\n    totalRegions: 0\r\n};\r\nvar globalEntities = [];\r\n\r\ngeoJsonDataSource.show = false;\r\n\r\nconst colorMappings = {\r\n    123456: [ //assetID here\r\n        { threshold: 38, color: Cesium.Color.fromCssColorString('rgba(173, 216, 230, 0.6)') },\r\n        { threshold: 44, color: Cesium.Color.fromCssColorString('rgba(135, 206, 250, 0.6)') },\r\n        { threshold: 51, color: Cesium.Color.fromCssColorString('rgba(70, 130, 180, 0.6)') },\r\n        { threshold: 76, color: Cesium.Color.fromCssColorString('rgba(0, 0, 139, 0.6)') }\r\n    ],\r\n    123456: [ //assetID here\r\n        { threshold: 27, color: Cesium.Color.fromCssColorString('rgba(173, 216, 230, 0.6)') },\r\n        { threshold: 33, color: Cesium.Color.fromCssColorString('rgba(135, 206, 250, 0.6)') },\r\n        { threshold: 39, color: Cesium.Color.fromCssColorString('rgba(70, 130, 180, 0.6)') },\r\n        { threshold: 61, color: Cesium.Color.fromCssColorString('rgba(0, 0, 139, 0.6)') }\r\n    ]\r\n};\r\n\r\nfunction loadGeoJsonAsset(assetId) {\r\n    if (currentAssetId === assetId) {\r\n        return;\r\n    }\r\n    Cesium.IonResource.fromAssetId(assetId)\r\n        .then(function (resource) {\r\n            return geoJsonDataSource.load(resource, {\r\n                clampToGround: false,\r\n                stroke: Cesium.Color.BLACK,\r\n                fill: Cesium.Color.PINK.withAlpha(0.5),\r\n                strokeWidth: 3\r\n            });\r\n        })\r\n        .then(function (dataSource) {\r\n            viewer.dataSources.add(dataSource);\r\n            currentAssetId = assetId;\r\n\r\n            var entities = dataSource.entities.values;\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var travelTime = entity.properties.travel_time.getValue(); \r\n                entity.polygon.material = getColorByTravelTime(travelTime, assetId);\r\n            }\r\n            globalEntities = dataSource.entities.values; \r\n            calculateStatistics(dataSource);\r\n        });\r\n}\r\n\r\nfunction calculateStatistics(dataSource) {\r\n    var totalTravelTime = 0;\r\n    var entities = dataSource.entities.values;\r\n\r\n    for (var i = 0; i < entities.length; i++) {\r\n        var travelTime = entities[i].properties.travel_time.getValue();\r\n        totalTravelTime += travelTime;\r\n        globalStats.maxTravelTime = Math.max(globalStats.maxTravelTime, travelTime);\r\n        globalStats.minTravelTime = Math.min(globalStats.minTravelTime, travelTime);\r\n    }\r\n\r\n    globalStats.totalRegions = entities.length;\r\n    globalStats.averageTravelTime = totalTravelTime / entities.length;\r\n}\r\n\r\nfunction getColorByTravelTime(travelTime, assetId) {\r\n    const mappings = colorMappings[assetId] || [];\r\n    for (let i = 0; i < mappings.length; i++) {\r\n        if (travelTime <= mappings[i].threshold) {\r\n            return mappings[i].color;\r\n        }\r\n    }\r\n    return Cesium.Color.WHITE;\r\n}\r\n\r\nhandler.setInputAction(function (clickEvent) {\r\n    const earthPosition = viewer.scene.pickPosition(clickEvent.position);\r\n\r\n    if (!Cesium.defined(earthPosition)) {\r\n        return;\r\n    }\r\n\r\n    const pickedObject = viewer.scene.pick(clickEvent.position);\r\n    if (Cesium.defined(pickedObject) && pickedObject.id) {\r\n        var entity = pickedObject.id;\r\n        var travelTime = entity.properties.travel_time;\r\n\r\n        if (travelTime !== undefined) {\r\n            var screenPosition = Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene, earthPosition);\r\n            if (screenPosition) {\r\n                var deviationFromAverage = travelTime - globalStats.averageTravelTime;\r\n                var message;\r\n                if (Math.abs(deviationFromAverage) < 5) {\r\n                    message = `Travel Time: ${travelTime} minutes, which is close to the average travel time across all regions.`;\r\n                } else if (deviationFromAverage > 0) {\r\n                    message = `Travel Time: ${travelTime} minutes. This is ${deviationFromAverage.toFixed(0)} minutes more than the average travel time.`;\r\n                } else {\r\n                    message = `Travel Time: ${travelTime} minutes. This is ${Math.abs(deviationFromAverage).toFixed(0)} minutes less than the average travel time.`;\r\n                }\r\n                showPopup(screenPosition, message);\r\n            }\r\n        }\r\n    }\r\n}, Cesium.ScreenSpaceEventType.LEFT_CLICK);\r\n\r\n\r\nfunction showPopup(screenPosition, message) {\r\n    removePopup();\r\n\r\n    var popupDiv = document.createElement('div');\r\n    popupDiv.className = 'cesium-popup';\r\n    popupDiv.innerHTML = message;\r\n\r\n    popupDiv.style.left = screenPosition.x + 'px';\r\n    popupDiv.style.top = screenPosition.y + 'px';\r\n\r\n    document.body.appendChild(popupDiv);\r\n    currentPopup = popupDiv;\r\n\r\n    setTimeout(function() {\r\n        if (currentPopup === popupDiv) {\r\n            document.body.removeChild(popupDiv);\r\n            currentPopup = null;\r\n        }\r\n    }, 4000);\r\n}\r\n\r\nfunction removePopup() {\r\n    if (currentPopup) {\r\n        document.body.removeChild(currentPopup);\r\n        currentPopup = null;\r\n    }\r\n}\r\n\r\nfunction showMunichGeoJson () {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\r\n    loadGeoJsonAsset(assetId1);\r\n    createLegend(assetId1);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n}\r\n\r\n\r\nfunction hideMunichGeoJson () {\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n}\r\n\r\ndocument.getElementById('showGeoJson').addEventListener('click', function() {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider(); // cesium flat surface\r\n    loadGeoJsonAsset(assetId1);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n   \r\n});\r\n\r\nfunction createLegend(assetId) {\r\n    const legendContainer = document.getElementById('legend') || document.createElement('div');\r\n    legendContainer.id = 'legend';\r\n    legendContainer.innerHTML = ''; \r\n    legendContainer.style.display = 'block'; \r\n\r\n    const title = document.createElement('h3');\r\n    title.textContent = 'Average travel time (minutes)';\r\n    legendContainer.appendChild(title);\r\n\r\n    const mappings = colorMappings[assetId];\r\n    mappings.forEach(mapping => {\r\n        const colorBox = document.createElement('div');\r\n        colorBox.style.width = '20px';\r\n        colorBox.style.height = '20px';\r\n        colorBox.style.backgroundColor = mapping.color.toCssColorString();\r\n        colorBox.style.display = 'inline-block';\r\n\r\n        const label = document.createElement('span');\r\n        label.textContent = ` <= ${mapping.threshold}`;\r\n        label.style.marginLeft = '5px';\r\n\r\n        const entry = document.createElement('div');\r\n        entry.appendChild(colorBox);\r\n        entry.appendChild(label);\r\n        legendContainer.appendChild(entry);\r\n    });\r\n\r\n    document.body.appendChild(legendContainer);\r\n}\r\n\r\nfunction hideLegend() {\r\n    const legendContainer = document.getElementById('legend');\r\n    if (legendContainer) {\r\n        legendContainer.style.display = 'none';\r\n    }\r\n}\r\n\r\nhideLegend();\r\n\r\nexport {geoJsonDataSource, loadGeoJsonAsset, assetId1, assetId2};\r\nexport {showMunichGeoJson, hideMunichGeoJson};\r\nexport {createLegend, hideLegend};\r\n","/*\r\n * Filename: addTiles.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Import the Cesium 3D Tiles as 3 tilesets. \r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport {geoJsonDataSource} from './addGeoJSON.js';\r\nimport { createLegend, hideLegend } from './addGeoJSON.js';\r\n\r\nlet tileset1 = await Cesium.Cesium3DTileset.fromIonAssetId(); // add your assetID for the 3D tiles\r\nlet tileset2 = await Cesium.Cesium3DTileset.fromIonAssetId(); // add your assetID for the 3D tiles\r\nlet tileset3 = await Cesium.Cesium3DTileset.fromIonAssetId(); // add your assetID for the 3D tiles\r\nvar readyTilesetsCount = 0;\r\n\r\nPromise.all([\r\n    Cesium.Cesium3DTileset.fromIonAssetId(), // add your assetID for the 3D tiles\r\n    Cesium.Cesium3DTileset.fromIonAssetId(), // add your assetID for the 3D tiles\r\n    Cesium.Cesium3DTileset.fromIonAssetId() // add your assetID for the 3D tiles\r\n]).then(([ts1, ts2, ts3]) => {\r\n    tileset1 = ts1;\r\n    tileset2 = ts2;\r\n    tileset3 = ts3;\r\n\r\n    setBuildingStyle(tileset1, 'lightgray');\r\n    setBuildingStyle(tileset2, 'lightgray');\r\n    setBuildingStyle(tileset3, 'lightgray');\r\n\r\n    viewer.scene.primitives.add(tileset1);\r\n    viewer.scene.primitives.add(tileset2);\r\n    viewer.scene.primitives.add(tileset3);\r\n\r\n    checkAllTilesets();\r\n});\r\n\r\n\r\nsetBuildingStyle(tileset1, 'lightgray');\r\nsetBuildingStyle(tileset2, 'lightgray');\r\nsetBuildingStyle(tileset3, 'lightgray');\r\n\r\n/* \r\n\r\nFUNCTIONS\r\n\r\n*/\r\n\r\nfunction setBuildingStyle(tileset, color) {\r\n    tileset.style = new Cesium.Cesium3DTileStyle({\r\n        color: `color(\"${color}\")`,\r\n        show: true\r\n    });\r\n}\r\n\r\nfunction checkAllTilesets() {\r\n    readyTilesetsCount++;\r\n\r\n    if (readyTilesetsCount === 3) {\r\n        var boundingSphere1 = tileset1.boundingSphere;\r\n        var boundingSphere2 = tileset2.boundingSphere;\r\n        var boundingSphere3 = tileset3.boundingSphere;\r\n        var commonBoundingSphere = Cesium.BoundingSphere.union(boundingSphere1, boundingSphere2, boundingSphere3);\r\n        var range = Math.max(100.0 - commonBoundingSphere.radius, 0.0);\r\n        viewer.camera.viewBoundingSphere(commonBoundingSphere, new Cesium.HeadingPitchRange(0, -2.0, range));\r\n        viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n    }\r\n}\r\n\r\nfunction showMunich3DTiles() {\r\n    viewer.scene.setTerrain(new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1)));\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n    tileset1.show = true;\r\n    tileset2.show = true;\r\n    tileset3.show = true;\r\n}\r\n\r\nfunction hideMunich3DTiles() {\r\n    tileset1.show = false;\r\n    tileset2.show = false;\r\n    tileset3.show = false;\r\n}\r\n\r\nexport {tileset1, tileset2, tileset3} ; \r\nexport {showMunich3DTiles, hideMunich3DTiles};\r\n","/*\r\n * Filename: cesiumConfig.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Addition of access tokens for the application. Add here your own key for CesiumJS. Optionally, you can add basemap provider key and geocoder key.\r\n*/\r\n\r\n// CesiumJS Access Token\r\nCesium.Ion.defaultAccessToken = \"\"; //add your Cesium access token here. \r\n\r\n// API Key for ArcGIS Service. In this application, it is used for ArcGIS Geocoder. \r\nconst apiKey = \"\"; //add your ArcGIS access token here. \r\nCesium.ArcGisMapService.defaultAccessToken = apiKey;\r\nconst authentication = arcgisRest.ApiKeyManager.fromKey(apiKey);\r\n\r\n// Mapbox Access Token for basemaps \r\nconst mapbox = \"\"; //add your Mapbox access token here. \r\n\r\nexport {mapbox, authentication}; \r\n\r\n","/*\r\n * Filename: cesiumViewer.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Generation of Cesium Container by setting,viewer,scene and camera positions with additional basemap and styles. \r\n*/\r\n\r\nimport {mapbox} from './cesiumConfig.js';\r\n \r\nconst dayMapbox = new Cesium.MapboxStyleImageryProvider({\r\n\tstyleId: 'basic-v9',\r\n\taccessToken: mapbox\r\n});\r\n\r\nconst viewer = new Cesium.Viewer('cesiumContainer', {\r\n    terrainProvider : Cesium.CesiumTerrainProvider(),\r\n    imageryProvider: dayMapbox,\r\n    timeline: false,\r\n    animation: false,\r\n    infoBox: true,\r\n    homeButton: false,\r\n    navigationHelpButton: false, \r\n    sceneModePicker: false,\r\n    baseLayerPicker: false,\r\n    orderIndependentTranslucency: true,\r\n    selectionIndicator: true,\r\n    infoBox: false,\r\n    shadows: true,\r\n    requestRenderMode : true, //*Optimization* Enable requestRenderMode to reduce the overall amount of time Cesium renders a new frame and to decrease Cesium’s overall CPU usage in your application.\r\n    maximumRenderTimeChange : Infinity,\r\n    geocoder : false,\r\n    fullscreenButton: false,\r\n});\r\n\r\nvar scene = viewer.scene;\r\nvar camera = scene.camera;\r\nlet timeoutId = null; \r\nlet isPanelClicked = false; \r\n\r\n\r\nscene.shadowMap.softShadows = true;\r\nviewer.scene.shadowMap.size = 8192;\r\nviewer.scene.globe.tileCacheSize = 1000;\r\n\r\nviewer.scene.setTerrain(\r\n    new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1))\r\n);\r\n\r\nviewer.scene.globe.imageryLayers.addImageryProvider(dayMapbox);\r\n\r\nscene.skyAtmosphere.brightnessShift = 0.2;\r\nscene.globe.enableLighting = true;\r\nscene.requestRender();\r\nscene.globe.depthTestAgainstTerrain = true;\r\n\r\nconst initialCameraPosition = {\r\n    destination: Cesium.Cartesian3.fromDegrees(11.576124, 48.137154, 650),\r\n    orientation: {\r\n        heading: 0.0, \r\n        pitch: -0.4, \r\n        roll: 0.0\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const baseMapToggle = document.getElementById('baseMapToggle');\r\n    const baseMapOptions = document.getElementById('baseMapOptions');\r\n\r\n    baseMapToggle.addEventListener('mouseover', () => {\r\n        if (!isPanelClicked) {\r\n            clearTimeout(timeoutId);\r\n            baseMapOptions.style.display = 'block';\r\n        }\r\n    });\r\n\r\n    baseMapToggle.addEventListener('mouseout', () => {\r\n        if (!isPanelClicked) {\r\n            timeoutId = setTimeout(() => {\r\n                baseMapOptions.style.display = 'none';\r\n            }, 250);\r\n        }\r\n    });\r\n\r\n    baseMapToggle.addEventListener('click', () => {\r\n        isPanelClicked = !isPanelClicked;\r\n        baseMapOptions.style.display = isPanelClicked ? 'block' : 'none';\r\n        clearTimeout(timeoutId); \r\n    });\r\n\r\n    baseMapOptions.addEventListener('mouseover', () => {\r\n        clearTimeout(timeoutId);\r\n    });\r\n\r\n    baseMapOptions.addEventListener('mouseout', () => {\r\n        if (!isPanelClicked) {\r\n            timeoutId = setTimeout(() => {\r\n                baseMapOptions.style.display = 'none';\r\n            }, 250);\r\n        }\r\n    });\r\n\r\n    document.getElementById('mapboxButton').addEventListener('click', function() {\r\n        changeBaseMap('mapbox');\r\n    });\r\n    document.getElementById('osmButton').addEventListener('click', function() {\r\n        changeBaseMap('openstreetmap');\r\n    });\r\n    document.getElementById('mapboxDarkButton').addEventListener('click', function() {\r\n        changeBaseMap('mapboxDark');\r\n    });\r\n\r\n});\r\n\r\nfunction changeBaseMap(option) {\r\n    viewer.imageryLayers.removeAll(); \r\n    let newProvider;\r\n    switch (option) {\r\n        case 'mapbox':\r\n            newProvider = new Cesium.MapboxStyleImageryProvider({\r\n                styleId: 'basic-v9',\r\n                accessToken: mapbox\r\n            });\r\n            break;\r\n        case 'openstreetmap':\r\n            newProvider = new Cesium.OpenStreetMapImageryProvider();\r\n            break;\r\n        case 'mapboxDark':\r\n            newProvider = new Cesium.MapboxStyleImageryProvider({\r\n                styleId : 'dark-v11',\r\n                accessToken: mapbox\r\n            });\r\n            break;\r\n        default:\r\n            console.error('Unknown base map option:', option);\r\n            return;\r\n    }\r\n    viewer.imageryLayers.addImageryProvider(newProvider);\r\n}\r\n\r\ndocument.getElementById('helpButton').addEventListener('click', function() {\r\n    document.getElementById('helpPanel').style.display = 'block';\r\n});\r\n\r\ndocument.getElementById('closeHelpPanel').addEventListener('click', function() {\r\n    document.getElementById('helpPanel').style.display = 'none';\r\n});\r\n\r\nwindow.onload = function() {\r\n    document.getElementById('helpPanel').style.display = 'block';\r\n};\r\n\r\n\r\nviewer.scene.camera.setView(initialCameraPosition);\r\nexport {viewer, scene, camera, dayMapbox, initialCameraPosition}; \r\n","/*\r\n * Filename: demo.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Helsinki DEMO application to test the scalability of the platform. \r\n*/\r\n\r\nimport { viewer, initialCameraPosition } from './cesiumViewer.js';\r\nimport {geoJsonDataSource, loadGeoJsonAsset, assetId2} from './addGeoJSON.js';\r\nimport {setCurrentLocation, updateTimeElement} from './timeUtils.js';\r\nimport { showMunich3DTiles} from './addTiles.js';\r\nimport { showMunichGeoJson} from './addGeoJSON.js';\r\nimport { createLegend, hideLegend } from './addGeoJSON.js';\r\n\r\nconst switchInput = document.getElementById(\"switchInput\");\r\nconst slider = document.querySelector(\".slider\");\r\nconst showGeoJsonButton = document.getElementById('showGeoJson');\r\nconst show3DTilesButton = document.getElementById('show3DTiles');\r\n\r\nlet currentCity = 'munich'; \r\nlet tileset; \r\n\r\nasync function loadHelsinkiTileset() {\r\n    if (!tileset) {\r\n        tileset = await Cesium.Cesium3DTileset.fromIonAssetId(96188);\r\n        viewer.scene.primitives.add(tileset);\r\n    }\r\n    tileset.show = true;\r\n}\r\n\r\nconst show3DTilesListener = async function() {\r\n    viewer.scene.setTerrain(new Cesium.Terrain(Cesium.CesiumTerrainProvider.fromIonAssetId(1)));\r\n    await loadHelsinkiTileset();\r\n    geoJsonDataSource.show = false;\r\n    hideLegend();\r\n};\r\n\r\nconst showGeoJsonListener = function() {\r\n    viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\r\n    loadGeoJsonAsset(assetId2);\r\n    createLegend(assetId2);\r\n    \r\n    geoJsonDataSource.show = true;\r\n    tileset.show = false;\r\n}\r\n\r\nfunction updateButtonBehavior() {\r\n    if (currentCity === 'munich') {\r\n        showGeoJsonButton.onclick = showMunichGeoJson;\r\n        show3DTilesButton.onclick = showMunich3DTiles;\r\n    } else {\r\n        showGeoJsonButton.onclick = showGeoJsonListener;\r\n        show3DTilesButton.onclick = show3DTilesListener;\r\n    }\r\n}\r\n\r\nswitchInput.addEventListener(\"change\", function() {\r\n    if (switchInput.checked) {\r\n        slider.classList.add(\"on\");\r\n        currentCity = 'helsinki';\r\n        viewer.camera.flyTo({\r\n            destination: Cesium.Cartesian3.fromDegrees(24.943229, 60.156792, 550),\r\n            orientation: {\r\n                heading: 0.0,\r\n                pitch: -0.4,\r\n                roll: 0.0\r\n            },\r\n            duration: 3.0,\r\n        }); // camera settings for the location\r\n        viewer.scene.globe.depthTestAgainstTerrain = true;\r\n     \r\n        show3DTilesListener().then(() => {\r\n        }); //addition of default 3D tiles in Helsinki\r\n        \r\n        updateButtonBehavior(); // function to adapt data toggle for helsinki\r\n        setCurrentLocation('helsinki');\r\n        updateTimeElement(); // update time element     \r\n\r\n    } else {\r\n        slider.classList.remove(\"on\");\r\n        currentCity = 'munich';\r\n\r\n        if (tileset) {\r\n            tileset.show = false;\r\n        }\r\n        viewer.camera.flyTo(initialCameraPosition);\r\n        \r\n        showMunich3DTiles();\r\n        updateButtonBehavior();\r\n        setCurrentLocation('munich');\r\n        updateTimeElement();\r\n        \r\n    }\r\n});\r\n\r\nupdateButtonBehavior();","/*\r\n * Filename: geocoder.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: ArcGIS Geocoder (source = https://developers.arcgis.com/cesiumjs/geocode-and-search/search-for-an-address/)\r\n*/\r\n\r\nimport {viewer} from './cesiumViewer.js';\r\nimport {authentication} from './cesiumConfig.js';\r\n\r\nfunction findAddress(query) {\r\n\r\n    const cameraPos = Cesium.Cartographic.fromCartesian(viewer.camera.position);\r\n    const center = [Cesium.Math.toDegrees(cameraPos.longitude),Cesium.Math.toDegrees(cameraPos.latitude)];\r\n\r\n    arcgisRest\r\n    .geocode({\r\n        singleLine: query,\r\n        authentication,\r\n        params: {\r\n            outFields: \"*\",\r\n            location: center.join(\",\")\r\n        }\r\n    })\r\n\r\n    .then((response) => {\r\n        const result = response.candidates[0];\r\n        if (!result === 0) {\r\n            alert(\"Sorry, we could not find any place matching your search.\");\r\n            return;\r\n        }\r\n\r\n        const pinBuilder = new Cesium.PinBuilder()\r\n        const location = Cesium.Cartesian3.fromDegrees(result.location.x,result.location.y);\r\n        const candidate = viewer.entities.add({\r\n            name:'Search result',\r\n            description:`${result.address}`,\r\n            position:location,\r\n\r\n            billboard: {\r\n                verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\r\n                image: pinBuilder.fromColor(Cesium.Color.fromCssColorString('#5491f5'),48).toDataURL()\r\n            }\r\n        })\r\n        viewer.selectedEntity = candidate;\r\n        viewer.trackedEntity = candidate;\r\n    })\r\n\r\n    .catch((error) => {\r\n        alert(\"Please type an address or place.\");\r\n        console.error(error);\r\n    });\r\n}\r\n\r\nfunction handleAddressSearch() {\r\n    viewer.entities.removeAll();\r\n    const query = document.getElementById(\"geocode-input\").value;\r\n    findAddress(query);\r\n}\r\n\r\n\r\ndocument.getElementById(\"geocode-button\").addEventListener(\"click\", handleAddressSearch);\r\ndocument.getElementById(\"geocode-input\").addEventListener(\"keypress\", function(event) {\r\n    if (event.key === \"Enter\") {\r\n        event.preventDefault();\r\n        handleAddressSearch();\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"geocode-close\").addEventListener(\"click\", function() {\r\n    document.getElementById(\"geocode-input\").value = '';\r\n    viewer.entities.removeAll();\r\n});","/*\r\n * Filename: timeUtils.js\r\n * Project: Exploring Sunny and Easily Accessible Homes: A 3D-Web-GIS Platform for Apartment Seekers in Munich and Helsinki\r\n * Author: Sevval Durmazbilek (sevvaldurmazbilek@gmail.com)\r\n * Last Modified: 2024-01-21\r\n * Description: Calculation of local time, sunrise and sunsets based on the location. Additional functions for time slider, time reset and date picker. \r\n*/    \r\n\r\nimport {viewer} from './cesiumViewer.js';\r\n\r\nlet locations = {\r\n  munich: { latitude: 48.137154, longitude: 11.576124 },\r\n  helsinki: { latitude: 60.169262, longitude: 24.938570 }\r\n};\r\n\r\nlet currentLocation = locations.munich;\r\nlet dateChangedByInput = false;\r\n\r\nlet date = Cesium.JulianDate.toDate(Cesium.JulianDate.now());\r\nlet timeInput = document.getElementById('time');\r\nlet dateInput = document.getElementById('dateInput');\r\n\r\nlet clock = viewer.clock;\r\nclock.currentTime = Cesium.JulianDate.fromDate(date);\r\n\r\nlet hourElement = document.getElementById(\"hour\");\r\n\r\nlet resetTimeButton = document.getElementById('resetTimeButton');\r\n\r\n\r\nresetTimeButton.addEventListener('click', function () {\r\n  const currentTimeInSeconds = convertTimeToSeconds(new Date());\r\n  timeInput.value = currentTimeInSeconds;\r\n\r\n  date = new Date();\r\n  dateInput.valueAsDate = date;\r\n\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n});\r\n\r\nviewer.clock.onTick.addEventListener(function (clock) {\r\n  date = Cesium.JulianDate.toDate(clock.currentTime);\r\n  updateTimeElement();\r\n});\r\n\r\nupdateSunTimes(currentLocation);\r\nlet initialTime = convertTimeToSeconds(date);\r\ntimeInput.value = initialTime;\r\n\r\ndateInput.valueAsDate = date;\r\n\r\ntimeInput.oninput = () => {\r\n  let time = +timeInput.value;\r\n  date.setUTCHours(Math.floor(time / 3600));\r\n  date.setUTCMinutes(Math.floor(time / 60) % 60);\r\n  date.setUTCSeconds(time % 60);\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n};\r\n\r\n\r\ndateInput.oninput = () => {\r\n  dateChangedByInput = true; \r\n  date = dateInput.valueAsDate;\r\n  updateSunTimes(currentLocation);\r\n  viewer.clock.currentTime = Cesium.JulianDate.fromDate(date);\r\n  updateTimeElement();\r\n};\r\n\r\nupdateTimeElement();\r\n\r\n\r\n//FUNCTIONS \r\n\r\nfunction calculateTimeZoneOffset(location) {\r\n  if (location === locations.munich) {\r\n    return 0;\r\n  } else if (location === locations.helsinki) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction updateSunTimes(location) {\r\n  let sunTimes = calculateSunTimes(date, location.latitude, location.longitude);\r\n  timeInput.min = convertTimeToSeconds(sunTimes.sunrise);\r\n  timeInput.max = convertTimeToSeconds(sunTimes.sunset);\r\n  timeInput.value = convertTimeToSeconds(sunTimes.sunrise);\r\n}\r\n\r\nfunction convertTimeToSeconds(time) {\r\n  return time.getHours() * 3600 + time.getMinutes() * 60 + time.getSeconds();\r\n}\r\n\r\n\r\nfunction calculateSunTimes(date, latitude, longitude) {\r\n  const times = SunCalc.getTimes(date, latitude, longitude);\r\n\r\n  let sunriseLocal = times.sunrise;\r\n  let sunsetLocal = times.sunset;\r\n\r\n  if (currentLocation === locations.munich) {\r\n      const timezoneOffset = date.getTimezoneOffset();\r\n      sunriseLocal = new Date(times.sunrise.getTime() + timezoneOffset * 60000);\r\n      sunsetLocal = new Date(times.sunset.getTime() + timezoneOffset * 60000);\r\n  }\r\n\r\n  else if (currentLocation === locations.helsinki) {\r\n    const timezoneOffsetHelsinki = date.getTimezoneOffset();\r\n    sunriseLocal = new Date(times.sunrise.getTime() + timezoneOffsetHelsinki * 60000);\r\n    sunsetLocal = new Date(times.sunset.getTime() + timezoneOffsetHelsinki * 60000);\r\n  }\r\n\r\n  return {\r\n      sunrise: sunriseLocal,\r\n      sunset: sunsetLocal,\r\n  };\r\n}\r\n\r\nfunction updateTimeElement() {\r\n  let timezoneOffset = calculateTimeZoneOffset(currentLocation);\r\n  let localDate = new Date(date.getTime() + timezoneOffset * 3600000);\r\n\r\n  let options = { hour12: false, hour: '2-digit', minute: '2-digit' };\r\n  let displayedTime = localDate.toLocaleString(\"en-US\", options);\r\n  hourElement.innerHTML = displayedTime;\r\n}\r\n\r\nexport function setCurrentLocation(locationKey) {\r\n  currentLocation = locations[locationKey];\r\n  updateSunTimes(currentLocation);\r\n  updateTimeElement();\r\n};\r\n\r\nexport {updateTimeElement};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(352);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","assetId1","assetId2","currentPopup","currentAssetId","geoJsonDataSource","Cesium","GeoJsonDataSource","handler","ScreenSpaceEventHandler","viewer","scene","canvas","globalStats","averageTravelTime","maxTravelTime","minTravelTime","Infinity","totalRegions","show","colorMappings","_defineProperty","threshold","color","Color","fromCssColorString","loadGeoJsonAsset","assetId","IonResource","fromAssetId","then","resource","load","clampToGround","stroke","BLACK","fill","PINK","withAlpha","strokeWidth","dataSource","dataSources","add","entities","values","i","length","entity","travelTime","properties","travel_time","getValue","polygon","material","getColorByTravelTime","calculateStatistics","totalTravelTime","Math","max","min","mappings","WHITE","showPopup","screenPosition","message","document","body","removeChild","popupDiv","createElement","className","innerHTML","style","left","x","top","y","appendChild","setTimeout","showMunichGeoJson","terrainProvider","EllipsoidTerrainProvider","createLegend","tileset1","tileset2","tileset3","legendContainer","getElementById","id","display","title","textContent","forEach","mapping","colorBox","width","height","backgroundColor","toCssColorString","label","concat","marginLeft","entry","hideLegend","setInputAction","clickEvent","earthPosition","pickPosition","position","defined","pickedObject","pick","undefined","SceneTransforms","wgs84ToWindowCoordinates","deviationFromAverage","abs","toFixed","ScreenSpaceEventType","LEFT_CLICK","addEventListener","Cesium3DTileset","fromIonAssetId","readyTilesetsCount","setBuildingStyle","tileset","Cesium3DTileStyle","checkAllTilesets","boundingSphere1","boundingSphere","boundingSphere2","boundingSphere3","commonBoundingSphere","BoundingSphere","union","range","radius","camera","viewBoundingSphere","HeadingPitchRange","lookAtTransform","Matrix4","IDENTITY","showMunich3DTiles","setTerrain","Terrain","CesiumTerrainProvider","Promise","all","_ref","_ref2","ts1","ts2","ts3","primitives","Ion","defaultAccessToken","ArcGisMapService","authentication","arcgisRest","ApiKeyManager","fromKey","mapbox","dayMapbox","MapboxStyleImageryProvider","styleId","accessToken","Viewer","imageryProvider","timeline","animation","infoBox","homeButton","navigationHelpButton","sceneModePicker","baseLayerPicker","orderIndependentTranslucency","selectionIndicator","timeoutId","isPanelClicked","shadowMap","softShadows","size","globe","tileCacheSize","imageryLayers","addImageryProvider","skyAtmosphere","brightnessShift","enableLighting","requestRender","depthTestAgainstTerrain","initialCameraPosition","destination","Cartesian3","fromDegrees","orientation","heading","pitch","roll","changeBaseMap","option","newProvider","removeAll","OpenStreetMapImageryProvider","console","error","baseMapToggle","baseMapOptions","clearTimeout","window","onload","setView","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","_asyncToGenerator","fn","self","args","arguments","apply","err","switchInput","slider","querySelector","showGeoJsonButton","show3DTilesButton","currentCity","loadHelsinkiTileset","_loadHelsinkiTileset","_callee2","_context2","show3DTilesListener","_callee","_context","showGeoJsonListener","updateButtonBehavior","onclick","checked","classList","flyTo","duration","setCurrentLocation","updateTimeElement","remove","handleAddressSearch","query","cameraPos","center","Cartographic","fromCartesian","toDegrees","longitude","latitude","geocode","singleLine","params","outFields","location","join","response","result","candidates","pinBuilder","PinBuilder","candidate","description","address","billboard","verticalOrigin","VerticalOrigin","BOTTOM","heightReference","HeightReference","CLAMP_TO_GROUND","image","fromColor","toDataURL","selectedEntity","trackedEntity","alert","event","preventDefault","locations","munich","helsinki","currentLocation","date","JulianDate","toDate","now","timeInput","dateInput","clock","currentTime","fromDate","hourElement","currentTimeInSeconds","convertTimeToSeconds","Date","valueAsDate","onTick","updateSunTimes","initialTime","sunTimes","times","SunCalc","getTimes","sunriseLocal","sunrise","sunsetLocal","sunset","timezoneOffset","getTimezoneOffset","getTime","timezoneOffsetHelsinki","calculateSunTimes","time","getHours","getMinutes","getSeconds","displayedTime","toLocaleString","hour12","hour","minute","locationKey","oninput","setUTCHours","floor","setUTCMinutes","setUTCSeconds","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","queue","hasAwait","currentDeps","outerResolve","depQueues","Set","promise","rej","deps","map","dep","obj","ret","wrapDeps","getResult","fnQueue","q","has","definition","get","prop"],"sourceRoot":""}